---
chapter_no: 32
chapter_group: 関数
chapter_title: 可変長引数
created: 2021-07-20
updated: 2021-07-20
---
- 可変長引数は変数`$args`という配列に渡されます。  
- 普通に引数を渡した関数内でも`$args`で配列は参照できます。
  - その際、普通の引数に指定した方に先に値が割り当てられていき、*残った部分が`$args`に割り当てられます*。

```:function_variable_length_parameter.ps1
function foo {
    Write-Host {em{$args}em}.Count
    foreach($i in $args) {
        Write-Host $i
    }
}

function bar({em:blue{$a, $b}em}) {
    Write-Host "$({em{$args}em}.Count) a={em:blue{$a}em} b={em:blue{$b}em}"
    foreach($i in $args) {
        Write-Host $i
    }
}

# 呼び出し
Write-Host '--- call foo'
foo a b あいう
Write-Host '--- call bar 1'
bar 10 20 a b c あいう  {em:comment{# $a, $bに10, 20が割り当てられ、それ以降が$argsに割り当てられる}em}
Write-Host '--- call bar 2'
bar 10 20  {em:comment{# $a, $bに10, 20が割り当てられ、$argsには何も割り当てられず空リストになる}em}
```

```output:出力結果
{em:command{PS C:\temp>}em} .\function_variable_length_parameter.ps1
--- call foo
3
a
b
あいう
--- call bar 1
4 a=10 b=20
a
b
c
あいう
--- call bar 2
0 a=10 b=20
```
