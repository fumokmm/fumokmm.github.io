---
chapter_no: 7
chapter_title: パッケージをローカルにダウンロードしてインストールする
created: 2021-10-14
updated: 2021-10-14
---
ネット環境が使えない場合など、一度パッケージを`whl`形式でダウンロードしておいて、インストールすることが可能です。

### 1. whlをダウンロードする
ダウンロードするには`download`コマンドを使います。  
ここでは例として`pandas`をダウンロードしています。
```output
$ pip {em{download}em} {em:blue{pandas}em}
Collecting pandas
  Downloading pandas-1.3.3-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (11.5 MB)
     |████████████████████████████████| 11.5 MB 1.5 MB/s
Collecting numpy>=1.17.3
  Using cached numpy-1.21.2-cp38-cp38-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (15.8 MB)
Collecting python-dateutil>=2.7.3
  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)
     |████████████████████████████████| 247 kB 1.9 MB/s
Collecting pytz>=2017.3
  Downloading pytz-2021.3-py2.py3-none-any.whl (503 kB)
     |████████████████████████████████| 503 kB 1.8 MB/s
Collecting six>=1.5
  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)
Saved ./pandas-1.3.3-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl
Saved ./numpy-1.21.2-cp38-cp38-manylinux_2_12_x86_64.manylinux2010_x86_64.whl
Saved ./python_dateutil-2.8.2-py2.py3-none-any.whl
Saved ./pytz-2021.3-py2.py3-none-any.whl
Saved ./six-1.16.0-py2.py3-none-any.whl
Successfully downloaded pandas numpy python-dateutil pytz six
```
ダウンロードした`whl`ファイルはカレントディレクトリに置かれます。
```output
$ ls
numpy-1.21.2-cp38-cp38-manylinux_2_12_x86_64.manylinux2010_x86_64.whl
pandas-1.3.3-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl
python_dateutil-2.8.2-py2.py3-none-any.whl
pytz-2021.3-py2.py3-none-any.whl
six-1.16.0-py2.py3-none-any.whl
```

### 2. whlをインストール
ローカルに落としてきた`whl`ファイルを指定してインストールしていきます。  
以下2つのオプションを使います。
- `--no-index`：PyPIは参照しない（ローカルを参照するために設定）
- `--find-links=<参照する場所>`：指定した場所を参照する
```syntax
pip {em{install --no-index --find-links}em}={em:orange{<whlファイルへのパス>}em} {em:blue{<モジュール名>}em}
```
上でダウンロードしたものを`/tmp/whl`に置いてある想定なら、以下のようなコマンドになります。
```output
$ pip {em{install --no-index --find-links}em}={em:orange{/tmp/whl/numpy-1.21.2-cp38-cp38-manylinux_2_12_x86_64.manylinux2010_x86_64.whl}em} {em:blue{numpy}em}
$ pip {em{install --no-index --find-links}em}={em:orange{/tmp/whl/pandas-1.3.3-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl}em} {em:blue{pandas}em}
$ pip {em{install --no-index --find-links}em}={em:orange{/tmp/whl/python_dateutil-2.8.2-py2.py3-none-any.whl}em} {em:blue{python_dateutil}em}
$ pip {em{install --no-index --find-links}em}={em:orange{/tmp/whl/pytz-2021.3-py2.py3-none-any.whl}em} {em:blue{pytz}em}
$ pip {em{install --no-index --find-links}em}={em:orange{/tmp/whl/six-1.16.0-py2.py3-none-any.whl}em} {em:blue{six}em}
```
