---
chapter_no: 10
chapter_title: 概要
created: 2022-04-22
updated: 2022-04-22
---
移送元テーブル(A)と、移送先テーブル(B)があったとします。  
- AにもBにも同じキーがあった場合は、UPDATE文
- Aにあって、Bにないキーの場合は、INSERT文
- Aになくて、Bにあるキーの場合は、DELETE文

を一つのSQLで実現できるのがMERGE文です。

<table class="normal">
	<tr>
		<th markdown="span">キー</th>
		<th markdown="span">移送元テーブル(A)</th>
		<th markdown="span">移送先テーブル(B)</th>
		<th markdown="span">実行されるSQL</th>
	</tr>
	<tr>
		<td markdown="span">KEY1が・・・</td>
		<td markdown="span">ある</td>
		<td markdown="span">ある</td>
		<td markdown="span">WHEN MATCHED THEN UPDATE...</td>
	</tr>
	<tr>
		<td markdown="span">KEY2が・・・</td>
		<td markdown="span">ある</td>
		<td markdown="span">ない</td>
		<td markdown="span">WHEN NOT MATCHED BY TARGET THEN INSERT...</td>
	</tr>
	<tr>
		<td markdown="span">KEY3が・・・</td>
		<td markdown="span">ない</td>
		<td markdown="span">ある</td>
		<td markdown="span">WHEN NOT MATCHED BY SOURCE THEN DELETE...</td>
	</tr>
</table>
