apply from: '_scripts/makeArticles.gradle'
defaultTasks "copyArticles"

task clean(type: Delete) {
    delete "${projectDir}/.work/articles/it"
}

task copyArticles(type: Copy) {
    dependsOn "makeArticles"
    
    ["it"].each { category ->
        // サブカテゴリのindex.md
        from("${projectDir}/_articles/${category}/") {
            into "_${category}_articles/"
            include "*/*.md"
        }
        // サブカテゴリのメモ(makeArticlesにて結合済み)
        from("${projectDir}/.work/articles/${category}/") {
            into "_${category}_articles/"
        }
    }
    into "${projectDir}/collections"
}
